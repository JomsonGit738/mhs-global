/* eslint-disable */import{useLayoutEffect as L,useRef as R}from"react";import{gsap as g}from"gsap";import{ScrollTrigger as S}from"gsap/ScrollTrigger";g.registerPlugin(S);const D={up:{y:36},down:{y:-36},left:{x:42},right:{x:-42},none:{}},E=e=>Array.isArray(e)?e.reduce((r,t)=>{if(!t)return r;const n="current"in t?t.current:t;return n?Array.isArray(n)?r.concat(n):r.concat([n]):r},[]):e?["current"in e?e.current:e].filter(Boolean):[],T=(e={})=>g.timeline({defaults:{ease:"power3.out",duration:.8},...e}),F=e=>({direction:"up",delay:0,stagger:.16,duration:.8,ease:"power3.out",once:!0,start:"top 82%",end:"bottom 68%",scrub:!1,scroll:!1,overlap:.32,...e});export const gsapInstance=g;export const createGsapTimeline=T;export const useGsapReveal=(e,t={})=>{const n=R(e);n.current=e;const o=R(t);o.current=t;const s=t.deps||[];L(()=>{const a=F(o.current),l=E(n.current);if(!l.length)return;const i=a.direction&&D[a.direction]?D[a.direction]:D.up,c=Math.max(Number.isFinite(a.overlap)?a.overlap:.32,0),u=a.scope||l[0];const f=g.context(()=>{if(a.scroll){const e="object"==typeof a.scroll?a.scroll:{};l.forEach((t,n)=>{const o={autoAlpha:0,...i,...a.from},s={autoAlpha:1,x:0,y:0,duration:a.duration,ease:a.ease,delay:a.delay+a.stagger*n,...a.to},l={trigger:e.trigger||a.trigger||t,start:e.start||a.start,end:e.end||a.end,scrub:void 0!==e.scrub?e.scrub:a.scrub,once:void 0!==e.once?e.once:a.once,toggleActions:(void 0!==e.once?e.once:a.once)?"play none none none":"play none none reverse"};const r=e.id||a.id;r&&(l.id=`${r}-${n+1}`),e.markers&&(l.markers=e.markers),g.fromTo(t,o,{...s,scrollTrigger:l});});return}const e=T({delay:a.delay,...a.timeline});l.forEach((t,n)=>{const o={autoAlpha:0,...i,...a.from},s={autoAlpha:1,x:0,y:0,...a.to};e.fromTo(t,o,s,n?`-=${c}`:0);});a.onStart&&e.eventCallback("onStart",a.onStart);a.onComplete&&e.eventCallback("onComplete",a.onComplete);},u);return()=>f.revert();},s)};export const useGsapTimeline=(e,t=[])=>{const n=R(null),o=R(null);return L(()=>{const t=n.current;if(!t)return;const s=g.context(()=>{const s=T();o.current=e(s,t)||s;},t);return()=>{const e=o.current;e&&"function"==typeof e.kill&&(e.kill(),o.current=null),s.revert();};},t),n};
